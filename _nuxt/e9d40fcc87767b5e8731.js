(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{413:function(t,e,r){"use strict";r.r(e);r(10),r(5),r(7);var o=r(59),n=(r(58),r(8),r(6),r(33),r(34),r(2)),l=r(60);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={head:function(){return{title:"Visitas por categorías"}},data:function(){return{seriesMega:[],opcionesMega:{legend:{show:!0},plotOptions:{pie:{donut:{labels:{show:!0}}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"top"}}}]},megacategorias:null,mega:null,orderpeli:!0,pais:null,paises:null,pelis:null,series:[{data:[]}],chartOptions:{plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!0},xaxis:{categories:[]}}}},computed:h({apexchart:function(){return function(){return Promise.resolve().then(r.t.bind(null,193,7))}}},Object(l.c)(["peliculas"]),{},Object(l.b)(["listaetiquetas","datosbasicos","loscolores","datosglobales"]),{moviefilter:function(){var t=this.pelis;t=this.pais&&"Miembros Retina Latina"!==this.pais&&"Todos los países"!==this.pais?this.lodash.filter(t,{pais:this.pais}):"Miembros Retina Latina"===this.pais?this.lodash.filter(t,{retina:!0}):t,this.orderpeli||(t=this.lodash.orderBy(t,["visitas"],["desc"]));var e=this.mega;return"Todas las megacategorías"!==e&&null!==e&&(console.log(e.nombre),t=this.lodash.filter(t,(function(t){return t.megas.includes(e.nombre)}))),t=this.lodash.slice(t,0,20)},megafilter:function(){var t=this,e=this.megacategorias,r=this.pelis,o=!0,n=!1,l=void 0;try{for(var c,v=function(){var e=c.value;r=t.pais&&"Miembros Retina Latina"!==t.pais&&"Todos los países"!==t.pais?t.lodash.filter(r,{pais:t.pais}):"Miembros Retina Latina"===t.pais?t.lodash.filter(r,{retina:!0}):r;var o=t.lodash.filter(r,(function(t){return t.megas.includes(e.nombre)}));e.visitas=0;var n=!0,l=!1,h=void 0;try{for(var v,d=o[Symbol.iterator]();!(n=(v=d.next()).done);n=!0){var f=v.value;e.visitas+=f.visitas}}catch(t){l=!0,h=t}finally{try{n||null==d.return||d.return()}finally{if(l)throw h}}e.numeropeliculas=o.length},d=e[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)v()}catch(t){n=!0,l=t}finally{try{o||null==d.return||d.return()}finally{if(n)throw l}}e=this.lodash.orderBy(e,["visitas"],["desc"]);var f=[],m=[],y=!0,w=!1,_=void 0;try{for(var O,x=e[Symbol.iterator]();!(y=(O=x.next()).done);y=!0){var V=O.value;f.push(V.visitas),m.push(V.nombre)}}catch(t){w=!0,_=t}finally{try{y||null==x.return||x.return()}finally{if(w)throw _}}return this.seriesMega=f,this.opcionesMega=h({colors:this.kolor},this.opcionesMega,{labels:m}),e},datosgrafico:function(){var t=[],e=[],r=[];if(this.moviefilter){var o=!0,n=!1,l=void 0;try{for(var c,h=this.moviefilter[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var v=c.value;this.orderpeli?e.push(v.promedio):e.push(v.visitas),r.push(v.titulo)}}catch(t){n=!0,l=t}finally{try{o||null==h.return||h.return()}finally{if(n)throw l}}}return t[0]=e,t[1]=r,t}}),created:function(){var t=this.lodash.cloneDeep(this.datosbasicos.paises),e=this.lodash.cloneDeep(this.listaetiquetas);this.paises=["Todos los países","Miembros Retina Latina"].concat(Object(o.a)(t)),this.kolor=this.lodash.cloneDeep(this.loscolores);var r=this.lodash.cloneDeep(this.peliculas),n=!0,l=!1,c=void 0;try{for(var h,v=r[Symbol.iterator]();!(n=(h=v.next()).done);n=!0){var d=h.value;d.promedio=parseFloat((d.visitas/d.diasalaire).toFixed(2))}}catch(t){l=!0,c=t}finally{try{n||null==v.return||v.return()}finally{if(l)throw c}}r=this.lodash.orderBy(r,["promedio"],["desc"]);var f=!0,m=!1,y=void 0;try{for(var w,_=r[Symbol.iterator]();!(f=(w=_.next()).done);f=!0){var O=w.value;O.megas=[];var x=!0,V=!1,j=void 0;try{for(var M,L=O.temas[Symbol.iterator]();!(x=(M=L.next()).done);x=!0){var C=M.value;this.lodash.filter(e,{termino:C})[0]?O.megas.push(this.lodash.filter(e,{termino:C})[0].megacategoria):console.log("Error en "+C)}}catch(t){V=!0,j=t}finally{try{x||null==L.return||L.return()}finally{if(V)throw j}}O.megas=this.lodash.uniq(O.megas)}}catch(t){m=!0,y=t}finally{try{f||null==_.return||_.return()}finally{if(m)throw y}}this.pelis=r},mounted:function(){this.pais="Todos los países",this.megacategorias=this.$store.getters.megacategorias(this.pais)},watch:{megacategorias:function(t){console.log("Han cambiado las megas")},pais:function(t){this.megafilter,this.mega=null,this.megacategorias=this.$store.getters.megacategorias(t)},datosgrafico:function(t){this.series[0].data=t[0],this.chartOptions=h({},this.chartOptions,{},{xaxis:{categories:t[1]}})}}},d=r(35),f=r(41),m=r.n(f),y=r(148),w=r(139),_=r(57),O=r(332),x=r(337),V=r(318),j=r(135),M=r(86),L=r(50),C=r(360),S=r(333),component=Object(d.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"grey lighten-5"},[r("Encabezado"),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",{attrs:{color:"#e1b940"}},[r("v-card-title",{staticClass:"title"},[t._v("Usuarios")]),t._v(" "),r("v-card-text",{staticClass:"white text--primary"},[r("p",[t._v("Los usuarios, en esta investigación, son todos los visitantes registrados de Retina Latina que hayan reproducido una de las "+t._s(t.peliculas.length)+" películas de la muestra.")])])],1)],1),t._v(" "),r("v-row",[r("v-col",[r("v-menu",{attrs:{"offset-x":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[r("v-btn",t._g({attrs:{color:"primary",dark:""}},o),[t._v("\r\n          "+t._s(t.pais?t.pais:"Ver detalles por país")+"\r\n        ")])]}}])},[t._v(" "),r("v-list",t._l(t.paises,(function(e,o){return r("v-list-item",{key:o,on:{click:function(r){t.pais=e}}},[r("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1)],1)],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline"},[t._v("Megaetiquetas con mayor "),r("strong",[t._v("número")]),t._v(" de  visitas")]),t._v(" "),r("v-list-item-subtitle",[t._v(" "+t._s(t.pais)+" ")])],1)],1),t._v(" "),r("v-card-text",[r("no-ssr",[r(t.apexchart,{tag:"component",attrs:{width:"100%",type:"donut",options:t.opcionesMega,series:t.seriesMega}})],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{text:""}},[t._v("Temas agrupados en categorías")])],1)],1)],1)],1),t._v(" "),r("Cierre")],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:y.a,VCard:w.a,VCardActions:_.a,VCardText:_.b,VCardTitle:_.c,VCol:O.a,VContainer:x.a,VDivider:V.a,VList:j.a,VListItem:M.a,VListItemContent:L.a,VListItemSubtitle:L.b,VListItemTitle:L.c,VMenu:C.a,VRow:S.a})}}]);